<html>

<head>
   <meta charset="utf-8">
   <title>좋아요</title>
</head>

<body>
   <div id="root"></div>
   <!-- 개발용 -->
   <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
   <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
   <!-- 배포용 -->
   <!--<script src="https://unpkg.com/react@16/umd/react.production.min.js" crossorigin></script>-->
   <!--<script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js" crossorigin></script>-->
   <script>
      'use strict';
      // 원시적인 형태의 React
      const e = React.createElement;

      // component = 데이터와 화면을 하나로 묶어둔 덩어리라고 보면 편하다.
      class LikeButton extends React.Component {
         constructor(props) {
            super(props);
            // state가 데이터이다. 화면의 바뀔 부분들을 state로 바꿔주면 된다.
            this.state = {
               liked: false
            };
         }

         render() {
            if (this.state.liked) {
               return 'You liked this.';
            }
            // render의 return부분이 화면이라고 보면 된다.
            // pop, push, shift, unshift, splice -> 배열을 직접 수정. React에서는 이 줄의 것들을 거의 사용하면 안됩니다.
            // concat, slice -> 새로운 배열을 만들어냄. React에서는 이 줄의 것들 위주로 사용해야 합니다.
            return e('button', {
               // setState로 state를 바꿀 수 있으며 현재 코드에서는 클릭을 하면 데이터가 true로 바뀌고 그 즉시 화면이 바뀝니다.
               // 그래서 React는 데이더를 바뀌면 화면이 바뀝니다.
               onClick: () => this.setState({
                  liked: true // this.state.liked = true; 안됩니다. 그래서 React에서는 객체를 함부로 바꾸면 안됩니다. 복사해서 사용해야합니다.(불변성)
               })
            }, 'Like');
         }
      }
   </script>
   <script>
      // React를 화면에 그려주는 부분.
      // id root안에 LikeButton을 그려준다는 코드
      ReactDOM.render(e(LikeButton), document.querySelector('#root'));
   </script>
</body>

</html>